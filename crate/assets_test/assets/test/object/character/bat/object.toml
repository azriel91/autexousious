# When updating this file, remember to update the number of expected animations in
# `object_loader.rs`.

[sequences.stand]
  [[sequences.stand.frames]]
    wait = 1
    sprite = { sheet = 0, index = 5 }
    body = [{ box = { x = 169, y = 5, w = 12, h = 20 } }]

    # Used in `CharacterControlTransitionsTransitionSystem` tests.
    [sequences.stand.frames.transitions]
      press_attack = "stand_attack_0"
      press_jump = "jump"
      hold_jump = { next = "dash_forward", requirements = [{ sp = 10 }] }
      hold_defend = { next = "flinch_0", requirements = [{ input_direction = true }] }
      release_special = [{ next = "dash_back", requirements = [{ charge = 10 }] }]

[sequences.stand_attack_0]
  [[sequences.stand_attack_0.frames]]
    wait = 1
    sprite = { sheet = 1, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 16, y = 11, w = 15, h = 12 } }] },
    ]

  [[sequences.stand_attack_0.frames]]
    sprite = { sheet = 1, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 48, y = 13, w = 15, h = 12 } }] },
    ]

  [[sequences.stand_attack_0.frames]]
    wait = 2
    sprite = { sheet = 1, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 81, y = 0, w = 14, h = 12 } }] },
    ]

  [[sequences.stand_attack_0.frames]]
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 113, y = 10, w = 14, h = 13 } }] },
    ]

  [[sequences.stand_attack_0.frames]]
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 113, y = 10, w = 14, h = 13 } }] },
    ]
    transitions = { press_attack = "stand_attack_1" }

[sequences.stand_attack_1]
  [[sequences.stand_attack_1.frames]]
    wait = 1
    sprite = { sheet = 1, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 16, y = 11, w = 15, h = 12 } }] },
    ]

  [[sequences.stand_attack_1.frames]]
    sprite = { sheet = 1, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 48, y = 13, w = 15, h = 12 } }] },
    ]

  [[sequences.stand_attack_1.frames]]
    wait = 2
    sprite = { sheet = 1, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 81, y = 0, w = 14, h = 12 } }] },
    ]

  [[sequences.stand_attack_1.frames]]
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 113, y = 10, w = 14, h = 13 } }] },
    ]

  [[sequences.stand_attack_1.frames]]
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 113, y = 10, w = 14, h = 13 } }] },
    ]

[sequences.walk]
  [[sequences.walk.frames]]
    wait = 2
    sprite = { sheet = 0, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]

  [[sequences.walk.frames]]
    wait = 2
    sprite = { sheet = 0, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]

  [[sequences.walk.frames]]
    wait = 2
    sprite = { sheet = 0, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]

  [[sequences.walk.frames]]
    wait = 2
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.walk.frames]]
    wait = 2
    sprite = { sheet = 0, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

[sequences.run]
  [[sequences.run.frames]]
    wait = 2
    sprite = { sheet = 0, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]

  [[sequences.run.frames]]
    wait = 2
    sprite = { sheet = 0, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]

  [[sequences.run.frames]]
    wait = 2
    sprite = { sheet = 0, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]

  [[sequences.run.frames]]
    wait = 2
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.run.frames]]
    wait = 2
    sprite = { sheet = 0, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

# This sequence is used in the `ObjectSequenceUpdateSystem` tests for number of frames --
# `frame_index_clock.limit`.
[sequences.run_stop]
  [[sequences.run_stop.frames]]
    wait = 2
    sprite = { sheet = 0, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]

  [[sequences.run_stop.frames]]
    wait = 2
    sprite = { sheet = 0, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]

  [[sequences.run_stop.frames]]
    wait = 2
    sprite = { sheet = 0, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]

  [[sequences.run_stop.frames]]
    wait = 2
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.run_stop.frames]]
    wait = 2
    sprite = { sheet = 0, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

[sequences.dodge]
  frames = [
    { wait = 4, sprite = { sheet = 0, index = 1 } },
    { wait = 4, sprite = { sheet = 0, index = 3 } },
    { wait = 4, sprite = { sheet = 0, index = 1 } },
    { wait = 4, sprite = { sheet = 0, index = 3 } },
  ]

# There are 5 sequences for jumping:
#
# * `jump`: The character squats and gets ready to jump.
# * `jump_off`: The character jumps up. This is where lift off happens.
# * `jump_ascend`: The character is moving upwards, but has not yet reached the peak of its jump.
# * `jump_descend`: The character is moving downwards, but has not yet reached the ground.
# * `jump_descend_land`: The character has landed.
[sequences.jump]
  [[sequences.jump.frames]]
    sprite = { sheet = 0, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]

  [[sequences.jump.frames]]
    sprite = { sheet = 0, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]

  [[sequences.jump.frames]]
    sprite = { sheet = 0, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]

  [[sequences.jump.frames]]
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.jump.frames]]
    sprite = { sheet = 0, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

[sequences.jump_off]
  [[sequences.jump_off.frames]]
    wait = 1
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.jump_off.frames]]
    wait = 1
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

[sequences.jump_ascend]
  [[sequences.jump_ascend.frames]]
    wait = 1
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]
    transitions = { press_attack = "jump_attack" }

  [[sequences.jump_ascend.frames]]
    wait = 1
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]
    transitions = { press_attack = "jump_attack" }

[sequences.jump_descend]
  [[sequences.jump_descend.frames]]
    wait = 1
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]
    transitions = { press_attack = "jump_attack" }

  [[sequences.jump_descend.frames]]
    wait = 1
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]
    transitions = { press_attack = "jump_attack" }

[sequences.jump_descend_land]
  [[sequences.jump_descend_land.frames]]
    sprite = { sheet = 0, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

  [[sequences.jump_descend_land.frames]]
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.jump_descend_land.frames]]
    sprite = { sheet = 0, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]

  [[sequences.jump_descend_land.frames]]
    sprite = { sheet = 0, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]

  [[sequences.jump_descend_land.frames]]
    sprite = { sheet = 0, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]

[sequences.jump_attack]
  [[sequences.jump_attack.frames]]
    wait = 1
    sprite = { sheet = 1, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 16, y = 11, w = 15, h = 12 } }] },
    ]

  [[sequences.jump_attack.frames]]
    sprite = { sheet = 1, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 48, y = 13, w = 15, h = 12 } }] },
    ]

  [[sequences.jump_attack.frames]]
    wait = 2
    sprite = { sheet = 1, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 81, y = 0, w = 14, h = 12 } }] },
    ]

  [[sequences.jump_attack.frames]]
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 113, y = 10, w = 14, h = 13 } }] },
    ]

  [[sequences.jump_attack.frames]]
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 113, y = 10, w = 14, h = 13 } }] },
    ]

# There are 7 sequences for dashing:
#
# * `dash_forward`:
#
#     The character dashes facing forward. Lift off is instant.
#
# * `dash_forward_ascend`:
#
#     The character is moving upwards facing forward, but has not yet reached the peak of its
#     dash.
#
# * `dash_descend_forward`:
#
#     The character is moving downwards facing forward, but has not yet reached the ground.
#
# * `dash_back`:
#
#     The character dashes facing back. Lift off is instant.
#
# * `dash_ascend_back`:
#
#     The character is moving upwards facing back, but has not yet reached the peak of its dash.
#
# * `dash_descend_back`:
#
#     The character is moving downwards facing back, but has not yet reached the ground.
#
# * `dash_descend_land`:
#
#     The character has landed.
#
[sequences.dash_forward]
  [[sequences.dash_forward.frames]]
    wait = 1
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]
    transitions = { press_attack = "dash_attack" }

  [[sequences.dash_forward.frames]]
    wait = 1
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]
    transitions = { press_attack = "dash_attack" }

[sequences.dash_forward_ascend]
  [[sequences.dash_forward_ascend.frames]]
    wait = 1
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]
    transitions = { press_attack = "dash_attack" }

  [[sequences.dash_forward_ascend.frames]]
    wait = 1
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]
    transitions = { press_attack = "dash_attack" }

[sequences.dash_forward_descend]
  [[sequences.dash_forward_descend.frames]]
    wait = 1
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]
    transitions = { press_attack = "dash_attack" }

  [[sequences.dash_forward_descend.frames]]
    wait = 1
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]
    transitions = { press_attack = "dash_attack" }

[sequences.dash_back]
  [[sequences.dash_back.frames]]
    wait = 1
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.dash_back.frames]]
    wait = 1
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

[sequences.dash_back_ascend]
  [[sequences.dash_back_ascend.frames]]
    wait = 1
    sprite = { sheet = 1, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]

[sequences.dash_back_descend]
  [[sequences.dash_back_descend.frames]]
    wait = 1
    sprite = { sheet = 1, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]

[sequences.dash_descend_land]
  [[sequences.dash_descend_land.frames]]
    sprite = { sheet = 0, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

  [[sequences.dash_descend_land.frames]]
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.dash_descend_land.frames]]
    sprite = { sheet = 0, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]

  [[sequences.dash_descend_land.frames]]
    sprite = { sheet = 0, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]

  [[sequences.dash_descend_land.frames]]
    sprite = { sheet = 0, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]

[sequences.dash_attack]
  [[sequences.dash_attack.frames]]
    wait = 1
    sprite = { sheet = 1, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 16, y = 11, w = 15, h = 12 } }] },
    ]

  [[sequences.dash_attack.frames]]
    sprite = { sheet = 1, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 48, y = 13, w = 15, h = 12 } }] },
    ]

  [[sequences.dash_attack.frames]]
    wait = 2
    sprite = { sheet = 1, index = 2 }
    body = [{ box = { x = 81, y = 0, w = 14, h = 12 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 81, y = 0, w = 14, h = 12 } }] },
    ]

  [[sequences.dash_attack.frames]]
    sprite = { sheet = 1, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 113, y = 10, w = 14, h = 13 } }] },
    ]

  [[sequences.dash_attack.frames]]
    sprite = { sheet = 1, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]
    interactions = [
      { hit = { hp_damage = 20 }, bounds = [{ box = { x = 113, y = 10, w = 14, h = 13 } }] },
    ]

# # Flinching
#
# Getting hit.
[sequences.flinch_0]
  [[sequences.flinch_0.frames]]
    wait = 1
    sprite = { sheet = 0, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

  [[sequences.flinch_0.frames]]
    wait = 1
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.flinch_0.frames]]
    wait = 3
    sprite = { sheet = 0, index = 5 }
    body = [{ box = { x = 169, y = 5, w = 12, h = 20 } }]

[sequences.flinch_1]
  [[sequences.flinch_1.frames]]
    wait = 1
    sprite = { sheet = 0, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

  [[sequences.flinch_1.frames]]
    wait = 1
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.flinch_1.frames]]
    wait = 3
    sprite = { sheet = 0, index = 5 }
    body = [{ box = { x = 169, y = 5, w = 12, h = 20 } }]

# Hit until dizzy.
[sequences.dazed]
  [[sequences.dazed.frames]]
    wait = 6
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.dazed.frames]]
    wait = 6
    sprite = { sheet = 0, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]

  [[sequences.dazed.frames]]
    wait = 6
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.dazed.frames]]
    wait = 6
    sprite = { sheet = 0, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]

# Fall when knocked down.
[sequences.fall_forward_ascend]
  [[sequences.fall_forward_ascend.frames]]
    wait = 2
    sprite = { sheet = 0, index = 1 }
    body = [{ box = { x = 48, y = 13, w = 15, h = 12 } }]

[sequences.fall_forward_descend]
  [[sequences.fall_forward_descend.frames]]
    wait = 2
    sprite = { sheet = 0, index = 0 }
    body = [{ box = { x = 16, y = 11, w = 15, h = 12 } }]

  [[sequences.fall_forward_descend.frames]]
    wait = 2
    sprite = { sheet = 0, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

[sequences.fall_forward_land]
  [[sequences.fall_forward_land.frames]]
    wait = 2
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]

  [[sequences.fall_forward_land.frames]]
    wait = 2
    sprite = { sheet = 0, index = 4 }
    body = [{ box = { x = 145, y = 12, w = 14, h = 13 } }]

[sequences.lie_face_down]
  [[sequences.lie_face_down.frames]]
    wait = 30
    sprite = { sheet = 0, index = 3 }
    body = [{ box = { x = 113, y = 10, w = 14, h = 13 } }]
