# When updating this file, remember to update the number of expected sequences in
# `object_loader.rs`.

sequences:
  stand:
    # Used in the following tests:
    #
    # * `CharacterControlTransitionsTransitionSystem`
    transitions:
      press_attack: stand_attack_0
    frames:
      - wait: 1
        sprite: { sheet: 0, index: 5 }
        body: [box: { x: 169, y: 5, w: 12, h: 20 }]
        transitions:
          press_jump: jump
          hold_jump:
            next: dash_forward
            requirements:
              - sp: 10
          hold_defend:
            next: flinch_0
            requirements:
              - input_dir_x: same
          release_special:
            - next: dash_back
              requirements:
                - charge: 10
      - wait: 1
        sprite: { sheet: 0, index: 5 }
        body: [box: { x: 169, y: 5, w: 12, h: 20 }]
        transitions:
          press_attack: stand_attack_1

  stand_attack_0:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 16, y: 11, w: 15, h: 12 }]
      - sprite: { sheet: 1, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 1, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 81, y: 0, w: 14, h: 12 }]
      - sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 113, y: 10, w: 14, h: 13 }]
        transitions:
          press_attack: stand_attack_1

  stand_attack_1:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 16, y: 11, w: 15, h: 12 }]
      - sprite: { sheet: 1, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 1, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 81, y: 0, w: 14, h: 12 }]
      - sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 113, y: 10, w: 14, h: 13 }]

  walk:
    frames:
      - wait: 2
        sprite: { sheet: 0, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 0, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 0, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]
      - wait: 2
        sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - wait: 2
        sprite: { sheet: 0, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]

  run:
    frames:
      - wait: 2
        sprite: { sheet: 0, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 0, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 0, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]
      - wait: 2
        sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - wait: 2
        sprite: { sheet: 0, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]

  # This sequence is used in the `ObjectSequenceUpdateSystem` tests for number of frames --
  # `frame_index_clock.limit`.
  run_stop:
    frames:
      - wait: 2
        sprite: { sheet: 0, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 0, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 0, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]
      - wait: 2
        sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - wait: 2
        sprite: { sheet: 0, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]

  dodge:
    frames:
      - wait: 4
        sprite: { sheet: 0, index: 1 }
      - wait: 4
        sprite: { sheet: 0, index: 3 }
      - wait: 4
        sprite: { sheet: 0, index: 1 }
      - wait: 4
        sprite: { sheet: 0, index: 3 }

  # There are 5 sequences for jumping:
  #
  # * `jump`: The character squats and gets ready to jump.
  # * `jump_off`: The character jumps up. This is where lift off happens.
  # * `jump_ascend`: The character is moving upwards, but has not yet reached the peak of its jump.
  # * `jump_descend`: The character is moving downwards, but has not yet reached the ground.
  # * `jump_descend_land`: The character has landed.
  jump:
    frames:
      - sprite: { sheet: 0, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]
      - sprite: { sheet: 0, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - sprite: { sheet: 0, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]
      - sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - sprite: { sheet: 0, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]

  jump_off:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - wait: 1
        sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]

  jump_ascend:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
        transitions:
          press_attack: jump_attack
      - wait: 1
        sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
        transitions:
          press_attack: jump_attack

  jump_descend:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
        transitions:
          press_attack: jump_attack
      - wait: 1
        sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
        transitions:
          press_attack: jump_attack

  jump_descend_land:
    frames:
      - sprite: { sheet: 0, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
      - sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - sprite: { sheet: 0, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]
      - sprite: { sheet: 0, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - sprite: { sheet: 0, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]

  jump_attack:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 16, y: 11, w: 15, h: 12 }]
      - sprite: { sheet: 1, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 1, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 81, y: 0, w: 14, h: 12 }]
      - sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 113, y: 10, w: 14, h: 13 }]

  # There are 7 sequences for dashing:
  #
  # * `dash_forward`:
  #
  #     The character dashes facing forward. Lift off is instant.
  #
  # * `dash_forward_ascend`:
  #
  #     The character is moving upwards facing forward, but has not yet reached the peak of its
  #     dash.
  #
  # * `dash_descend_forward`:
  #
  #     The character is moving downwards facing forward, but has not yet reached the ground.
  #
  # * `dash_back`:
  #
  #     The character dashes facing back. Lift off is instant.
  #
  # * `dash_ascend_back`:
  #
  #     The character is moving upwards facing back, but has not yet reached the peak of its dash.
  #
  # * `dash_descend_back`:
  #
  #     The character is moving downwards facing back, but has not yet reached the ground.
  #
  # * `dash_descend_land`:
  #
  #     The character has landed.
  #
  dash_forward:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
        transitions:
          press_attack: dash_attack
      - wait: 1
        sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
        transitions:
          press_attack: dash_attack

  dash_forward_ascend:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
        transitions:
          press_attack: dash_attack
      - wait: 1
        sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
        transitions:
          press_attack: dash_attack

  dash_forward_descend:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
        transitions:
          press_attack: dash_attack
      - wait: 1
        sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
        transitions:
          press_attack: dash_attack

  dash_back:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - wait: 1
        sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]

  dash_back_ascend:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]

  dash_back_descend:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]

  dash_descend_land:
    frames:
      - sprite: { sheet: 0, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
      - sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - sprite: { sheet: 0, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]
      - sprite: { sheet: 0, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - sprite: { sheet: 0, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]

  dash_attack:
    frames:
      - wait: 1
        sprite: { sheet: 1, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 16, y: 11, w: 15, h: 12 }]
      - sprite: { sheet: 1, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 1, index: 2 }
        body: [box: { x: 81, y: 0, w: 14, h: 12 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 81, y: 0, w: 14, h: 12 }]
      - sprite: { sheet: 1, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - sprite: { sheet: 1, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
        interactions:
          - hit:
              hp_damage: 20
            bounds: [box: { x: 113, y: 10, w: 14, h: 13 }]

  # # Flinching
  #
  # Getting hit.
  flinch_0:
    frames:
      - wait: 1
        sprite: { sheet: 0, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
      - wait: 1
        sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - wait: 3
        sprite: { sheet: 0, index: 5 }
        body: [box: { x: 169, y: 5, w: 12, h: 20 }]

  flinch_1:
    frames:
      - wait: 1
        sprite: { sheet: 0, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]
      - wait: 1
        sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - wait: 3
        sprite: { sheet: 0, index: 5 }
        body: [box: { x: 169, y: 5, w: 12, h: 20 }]

  # Hit until dizzy.
  dazed:
    frames:
      - wait: 6
        sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - wait: 6
        sprite: { sheet: 0, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]
      - wait: 6
        sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - wait: 6
        sprite: { sheet: 0, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]

  # Fall when knocked down.
  fall_forward_ascend:
    frames:
      - wait: 2
        sprite: { sheet: 0, index: 1 }
        body: [box: { x: 48, y: 13, w: 15, h: 12 }]

  fall_forward_descend:
    frames:
      - wait: 2
        sprite: { sheet: 0, index: 0 }
        body: [box: { x: 16, y: 11, w: 15, h: 12 }]
      - wait: 2
        sprite: { sheet: 0, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]

  fall_forward_land:
    frames:
      - wait: 2
        sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
      - wait: 2
        sprite: { sheet: 0, index: 4 }
        body: [box: { x: 145, y: 12, w: 14, h: 13 }]

  lie_face_down:
    frames:
      - wait: 30
        sprite: { sheet: 0, index: 3 }
        body: [box: { x: 113, y: 10, w: 14, h: 13 }]
